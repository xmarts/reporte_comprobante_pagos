<odoo>
	 <template id="id_reporte_pagos" inherit_id="account.report_payment_receipt_document">
         <xpath expr="//div[1]" position="after">
            <h4 class="text-center" style="margin-top:2em; margin-bottom:1em; text-decoration:underline;"> Documentos Relacionados </h4>
            <table class="table table-sm o_main_table">
               <t t-set="xml" t-value="docs.l10n_mx_edi_get_xml_etree()" />
               <t t-set="comp" t-value="xml.Complemento" />
               <t t-set="tfd" t-value="docs.l10n_mx_edi_get_pago_etree(xml)" />
               <!-- <span t-field="docs.payments_widget" />-->
                <thead>
                    <tr>
                        <th>Id Documento</th>
                        <th>Serie</th>
                        <th>Moneda</th>
                        <th>Tipo Cambio</th>
                        <th>Parcialidad</th>
                        <th>Metodo de Pago</th>
                        <th>Saldo Anterior</th>
                        <th>Saldo Pagado</th>
                        <th>Saldo Insoluto</th>
                    </tr>
                </thead>
                <tbody class="sale_tbody">
                    <t t-foreach="tfd.Pago" t-as="rec">
                        <tr>
                            <t t-set="pagval" t-value="0" />
                            <t t-if="rec.DoctoRelacionado.get('MetodoDePagoDR') == 'PUE'">
                                <t t-set="pagval" t-value="'PUE - Pago en una sola exibicion'" />
                            </t>
                            <t t-if="rec.DoctoRelacionado.get('MetodoDePagoDR') == 'PPD'">
                                <t t-set="pagval" t-value="'PPD - Pago en parcialidades o diferido'" />
                            </t>
                            <td>
                                <span t-esc="rec.DoctoRelacionado.get('IdDocumento')" />
                            </td>
                            <td>
                                <t t-set="ser" t-value="rec.DoctoRelacionado.get('Serie')" />
                                <t t-set="fol" t-value="rec.DoctoRelacionado.get('Folio')" />
                                <span t-esc="str(ser)+str(000)+str(fol)" />
                            </td>
                            <td>
                                <span t-esc="rec.DoctoRelacionado.get('MonedaDR')" />
                            </td>
                            <td>
                                
                            </td>
                            <td>
                                <span t-esc="rec.DoctoRelacionado.get('NumParcialidad')" />
                            </td>
                            <td>
                                <span t-esc="pagval" />
                            </td>
                            <td>
                                <span t-esc="rec.DoctoRelacionado.get('ImpSaldoAnt')" />
                            </td>
                            <td>
                                <span t-esc="rec.DoctoRelacionado.get('ImpPagado')" />
                            </td>
                            <td>
                                <span t-esc="rec.DoctoRelacionado.get('ImpSaldoInsoluto')" />
                            </td>
                        </tr> 
                    </t>
                </tbody>
            </table>
         </xpath>
       </template> 
</odoo>